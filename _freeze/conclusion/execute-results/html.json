{
  "hash": "e1c15f6ce8569f224149351a2c14de3f",
  "result": {
    "engine": "knitr",
    "markdown": "---\nfig-width: 5\nfig-asp: 0.67\nfig-align: center\nfig-dpi: 300\nfilters:\n  - line-highlight\nexecute: \n  freeze: auto\n---\n\n\n# Conclusion: other tips and tricks {#sec-camcorder}\n\n## Additional packages\n\nThere are many functions within {ggplot2}, and many more within the wider community of extension packages, that 16 chapters can't cover. Some of those packages are used to add different geometries, a few are used behind the scenes to help streamline workflows, and a few are more generally useful R packages.\n\n### {camcorder} for recording gifs {#camcorder}\n\n{camcorder} [@camcorder] is an R package to track and automatically save graphics generated with {ggplot2}. \\index{camcorder} \\index{camcorder!gg\\_record}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(camcorder)\ngg_record(\n  dir = \"recording\",\n  device = \"png\",\n  width = 6,\n  height = 4,\n  units = \"in\",\n  dpi = 300\n)\n```\n:::\n\n\n\nIf you're reading the online version of this book, you will have seen several examples of these gifs at the end of chapters.  \\index{camcorder!gg\\_playback}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngg_playback(\n  name = \"data-viz.gif\",\n  first_image_duration = 4,\n  last_image_duration = 20,\n  frame_duration = .25,\n  background = bg_col\n)\n```\n:::\n\n\n### Sankey and alluvial charts with {ggsankey} and {ggalluvial}\n\n\\index{ggsankey}\n\\index{ggalluvial}\n\n\n## Helper functions\n\n### Font Awesome icons and HTML code\n\nLoad fonts\nCreate HTML code\n\n### Template files for #TidyTuesday\n\nYou may notice that each chapter of this book has followed a similar structure: load packages, read in some data, perform some exploratory analysis, load fonts and colors as variables, write relevant text, create a simple plot, add styling with {ggtext}, and save a png file. This means that for each plot, there's a lot of overlap in the structure of the .R files and the code they contain. \n\nIf you visualise data using R on a regular basis, you'll likely find yourself repeating similar steps. You might even find yourself copying and pasting code from a previous file to your new file.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load packages -----------------------------------------------------------\n\nlibrary(tidyverse)\nlibrary(showtext)\nlibrary(patchwork)\nlibrary(camcorder)\nlibrary(ggtext)\nlibrary(glue)\n\n\n# Load data ---------------------------------------------------------------\n\ntuesdata <- tidytuesdayR::tt_load(date_chr)\n\n\n# Load fonts --------------------------------------------------------------\n\nfont_add_google(\"Roboto\", \"roboto\")\nshowtext_auto()\n\n\n# Define colours and fonts-------------------------------------------------\n\nbg_col <- \"\"\ntext_col <- \"\"\nhighlight_col <- \"\"\n\nbody_font <- \"roboto\"\ntitle_font <- \"roboto\"\n\n\n# Data wrangling ----------------------------------------------------------\n\n\n\n# Start recording ---------------------------------------------------------\n\ngg_record(\n  dir = file.path(yr, date_chr, \"recording\"),\n  device = \"png\",\n  width = 7,\n  height = 5,\n  units = \"in\",\n  dpi = 300\n)\n\n\n# Define text -------------------------------------------------------------\n\nsocial <- social_caption(\n  bg_colour = bg_col,\n  icon_colour = highlight_col,\n  font_colour = text_col,\n  font_family = body_font\n)\ntitle <- \"\"\nst <- \"\"\ncap <- paste0(\n  \"**Data**: <br>**Graphic**:\", social\n)\n\n\n# Plot --------------------------------------------------------------------\n\n\ntheme(\n  plot.margin = margin(5, 5, 5, 5),\n  plot.background = element_rect(fill = bg_col, colour = bg_col),\n  panel.background = element_rect(fill = bg_col, colour = bg_col),\n  plot.title = element_textbox_simple(\n    colour = text_col,\n    hjust = 0.5,\n    halign = 0.5,\n    margin = margin(b = 10, t = 5),\n    lineheight = 0.5,\n    family = title_font\n  ),\n  plot.subtitle = element_textbox_simple(\n    colour = text_col,\n    hjust = 0.5,\n    halign = 0.5,\n    margin = margin(b = 10, t = 5),\n    lineheight = 0.5,\n    family = body_font\n  ),\n  plot.caption = element_textbox_simple(\n    colour = text_col,\n    hjust = 0.5,\n    halign = 0.5,\n    margin = margin(b = 5, t = 10),\n    lineheight = 0.5,\n    family = body_font\n  )\n)\n\n\n# Save gif ----------------------------------------------------------------\n\ngg_playback(\n  name = file.path(yr, date_chr, paste0(date_strip, \".gif\")),\n  first_image_duration = 4,\n  last_image_duration = 20,\n  frame_duration = .25,\n  background = bg_col\n)\n```\n:::\n\n\n[nrennie.rbind.io/blog/script-templates-r/](https://nrennie.rbind.io/blog/script-templates-r/)\n\n\\index{templates}\n\n\n\n\n\n\n\n\n",
    "supporting": [
      "conclusion_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}