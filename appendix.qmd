---
execute: 
  freeze: false
---

# Appendix {.unnumbered .appendix}

## Frequently asked questions (FAQs)

* When I run the code in the examples, I get an error message or a different result. How do I fix it?
  * Make sure you haveve run all of the code in the chapter in order, including loading all packages.
  * Check to see if you're using a different version of R, or a specific package by looking at the software requirements in the appendix.
  
* How do I stop my plots looking squashed, stretched, or just different when I view them using RStudio vs saving them?
  * Take a look at @sec-camcorder for a solution to this problem!
  
* I've completed the exercises at the end of each chapter. Can I check my answers?
  * The exercises are purposefully left open-ended, rather than prescriptive questions with defined answers. Since there's often no single right answer in data visualization, solutions are not provided. You're encouraged to think about how *you* would design and implement different solutions, and you're encouraged to get feedback from others as a way of checking your answers instead.

## Software requirements {.unnumbered}

```{r}
#| label: r-version
#| echo: false
renv <- jsonlite::read_json("renv.lock")
```

This book was built using R version `r renv[[1]]$Version`. This book is built with [Quarto](https://quarto.org/), using version number `r quarto::quarto_version()`. All R packages required to build this book can be found in the following table. Note that this table contains all packages required to create the book, not just those required for the examples.

```{r}
#| label: tbl-package-versions
#| tbl-cap: "R packages and version numbers"
#| echo: false
options(knitr.kable.NA = "")
pkgs <- unlist(lapply(renv[[2]], function(x) x[["Package"]]))
pkg_vs <- unlist(lapply(renv[[2]], function(x) x[["Version"]]))
nr <- ceiling(length(pkgs) / 3)
pkg_df <- tibble::tibble(
  Package = pkgs,
  Version = pkg_vs
)
fill_NA <- as.data.frame(matrix(rep(c(NA, NA), times = nr * 3 - length(pkgs)), ncol = 2))
colnames(fill_NA) <- c("Package", "Version")
padded_pkgs <- rbind(pkg_df[(2 * nr + 1):length(pkgs), ], fill_NA)
new_pkg_df <-
  cbind(pkg_df[1:nr, ], pkg_df[(nr + 1):(2 * nr), ], padded_pkgs)
kableExtra::kbl(
  new_pkg_df,
  longtable = TRUE
) |>
  kableExtra::kable_styling(font_size = 7.5)
```

## Data {.unnumbered}

All data sets used in this book, and links to the relevant licenses:

```{r}
#| label: data-sources
#| echo: false
#| output: asis
data_data <- readr::read_csv("data/data.csv") |>
  tidyr::drop_na()
for (i in seq_len(nrow(data_data))) {
  pander::pandoc.list(
    list(
      glue::glue("**Chapter {data_data$Chapter[i]}**: {data_data$Data[i]} {data_data$BibTex[i]}"),
      list(
        paste0(
          "Source: {{< monolink '",
          data_data$URL[i],
          "' '",
          stringr::str_remove(data_data$URL[i], "https://"),
          "' >}} "
        ),
        glue::glue("License: {data_data$License[i]}")
      )
    )
  )
}
```

## Images {.unnumbered}

All images used in this book (which were not created by the author) and links to the relevant licenses:

```{r}
#| label: img-sources
#| echo: false
#| output: asis
img_data <- readr::read_csv("images/data.csv") |>
  tidyr::drop_na()
for (i in seq_len(nrow(img_data))) {
  pander::pandoc.list(
    list(
      glue::glue("Image: {img_data$Photographer[i]}"),
      list(
        paste0(
          "Source: {{< monolink '",
          img_data$Source[i],
          "' '",
          stringr::str_remove(img_data$Source[i], "https://"),
          "' >}} ",
          img_data$BibTex[i]
        ),
        glue::glue("License: {img_data$License[i]}")
      )
    )
  )
}
```

::: {.content-visible when-format="html"}

## Visualization gallery {.unnumbered}

Chapter @sec-programming:

![](images/final/programming-languages.png){fig-align="center" fig-alt=""}

Chapter @sec-museums:

![](images/final/museums.png){fig-align="center" fig-alt=""}


Chapter @sec-bees:

![](images/final/bee-colonies.png){fig-align="center" fig-alt=""}


Chapter @sec-longbeach:

![](images/final/animal-intakes.png){fig-align="center" fig-alt=""}


Chapter @sec-turbines:

![](images/final/wind-turbines.png){fig-align="center" fig-alt=""}


Chapter @sec-cats:

![](images/final/cats.png){fig-align="center" fig-alt=""}

Chapter @sec-nobel:

![](images/final/nobel-laureates.png){fig-align="center" fig-alt=""}

Chapter @sec-lemurs:

![](images/final/lemurs.png){fig-align="center" fig-alt=""}

Chapter @sec-r-pkgs:

![](images/final/r-packages.png){fig-align="center" fig-alt=""}
Chapter @sec-doctors:

![](images/final/doctors.png){fig-align="center" fig-alt=""}

Chapter @sec-time-zones:

![](images/final/time-zones.png){fig-align="center" fig-alt=""}
Chapter @sec-house:

![](images/final/us-elections.png){fig-align="center" fig-alt=""}

## Book cover {.unnumbered}

The (work-in-progress) cover of this book was also created with **`ggplot2`**. The code can be viewed below.

```{r}
#| file: R/cover.R
#| echo: true
#| eval: true
#| code-fold: true
#| fig-asp: 1.5
#| fig.show: hold
```

:::
